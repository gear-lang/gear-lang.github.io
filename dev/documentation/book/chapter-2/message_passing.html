
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>1. Message Passing Â· GitBook</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        
        
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-gear/website.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="types.md" />
    
    
    <link rel="prev" href="../getting-started.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        <li class="header">Getting Started</li>
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="../getting-started.html">
            
                <a href="../getting-started.html">
            
                    
                    Installation and Setup
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Basic Concepts</li>
        
        
    
        <li class="chapter active" data-level="2.1" data-path="message_passing.html">
            
                <a href="message_passing.html">
            
                    
                    1. Message Passing
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.1.1" data-path="types.md">
            
                <span>
            
                    
                    1.1 Types
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.2" data-path="builtin_types.html">
            
                <a href="builtin_types.html">
            
                    
                    3. Builtin Types
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.2.1" data-path="number.html">
            
                <a href="number.html">
            
                    
                    3.1 Number
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.2.2" data-path="boolean.html">
            
                <a href="boolean.html">
            
                    
                    3.2 Boolean
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.2.3" data-path="string.html">
            
                <a href="string.html">
            
                    
                    3.3 String
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.2.4" data-path="list.html">
            
                <a href="list.html">
            
                    
                    3.3 List
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.2.5" data-path="dictionary.html">
            
                <a href="dictionary.html">
            
                    
                    3.3 Dictionary
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.3" data-path="variables.md">
            
                <span>
            
                    
                    1. Variables
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.4" data-path="comments.html">
            
                <a href="comments.html">
            
                    
                    2. Comments
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.5" data-path="control_flow.md">
            
                <span>
            
                    
                    4. Control Flow
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="2.5.1" data-path="control_flow.md">
            
                <span>
            
                    
                    4.1 Conditionals
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.5.2" data-path="control_flow.md">
            
                <span>
            
                    
                    4.2 Loops
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="2.6" data-path="../chapter-3/embedding.html">
            
                <a href="../chapter-3/embedding.html">
            
                    
                    5. Functions
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Objects</li>
        
        
    
        <li class="chapter " data-level="3.1" data-path="objects.html">
            
                <a href="objects.html">
            
                    
                    Declaration
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="3.2" data-path="message_passing.html">
            
                <a href="message_passing.html">
            
                    
                    Message Passing
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.3" data-path="operator_overloading.md">
            
                <span>
            
                    
                    Operator Overloading
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">Multitasking</li>
        
        
    
        <li class="chapter " data-level="4.1" data-path="coroutines.md">
            
                <span>
            
                    
                    Coroutines
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.2" data-path="green-threads.md">
            
                <span>
            
                    
                    Green Threads
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.3" data-path="actors.md">
            
                <span>
            
                    
                    Actors
            
                </a>
            

            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >1. Message Passing</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="message-passing">Message Passing</h1>
<blockquote>
  <p>I&#x2019;m sorry that I long ago coined the term &#x201C;objects&#x201D; &#x2026; because it gets many people to focus on the lesser idea.  The big idea is &#x201C;messaging&#x201D; &#x2026;</p>
  <footer>Alan Kay</footer> <!-- http://mythz.servicestack.net/blog/2013/02/27/the-deep-insights-of-alan-kay/ -->
</blockquote>

<p>Gear gives complete control over method resolution.  It does not restrict your application to fit within a hierarchy.</p>
<p>Gear encourages a functional style of programming which means you are encouraged to send immutable messages when possible.  For example, you can sort a list in place using the <code>sort!</code> method, but you are encouraged to create a new sorted copy instead using <code>sort</code>.</p>
<p>Messages that perform a destructive or &quot;dangerous&quot; action end with a bang <code>!</code>.  Be careful when sending these messages.</p>
<h2 id="introduction-to-prototypes">Introduction to Prototypes</h2>
<p>In prototype inheritance there are no classes or instances, there are just objects.  Inheritance is performed by linking objects directly to other objects.  In Gear, inheritance is dynamic and the relationships can change at runtime.</p>
<p>Objects are composed of two things: <strong>slots</strong> and the <strong>prototype list</strong>.</p>
<p>The <strong>sender</strong> is the object that sends the message and the <strong>reciever</strong> is the object that can respond to the message.  In <strong>delegation</strong> the message is executed in the context of the sender.  In <strong>forwarding</strong> the message is executed in the context of the reciever.</p>
<h2 id="delegation">Delegation</h2>
<p>Every object maintains its own <strong>prototype list</strong> which is an ordered set of objects.  This list is used during message resolution:</p>
<p>When an object recieves a message it first checks if it can respond to it.  If it can, then it does so, if it cannot then it iterates through its prototype list until it finds an object that can respond to the message.  If there is no object that can respond to the message, then <code>Object</code> is checked.  If <code>Object</code> cannot respond to the message, then the process starts over with the <em>unrecognizedMessage</em> message.</p>
<p>You can modify an objects prototype list through the following messages:</p>
<ul>
<li><code>appendDelegate!</code></li>
<li><code>prependDelegate!</code></li>
<li><code>insertDelegateAtIndex!</code></li>
<li><code>removeDelegateAtIndex!</code></li>
<li><code>getDelegateCount</code></li>
<li><code>getDelegates</code></li>
</ul>
<h3 id="slots">Slots</h3>
<p>Slots have two components: a label and a value.  The label must be an identifier, but the value can be any Gear type.  A slot can be accessed using the <code>.</code> operator.  In the example below, a slot is created/assigne/something OR OTHER figure out what to say...</p>
<pre><code>Object.foo := &apos;bar&apos;
</code></pre><h2 id="message-passing">Message Passing</h2>
<blockquote>
  <p>The big idea is &#x201C;messaging&#x201D; &#x2026;</p>
  <footer>Alan Kay</footer> <!-- http://mythz.servicestack.net/blog/2013/02/27/the-deep-insights-of-alan-kay/ -->
</blockquote>

<p>Before a message is invoked, the message <code>willSendMessage</code> is invoked with the name of the message and the arguments.  If the function returns true, then the message is sent otherwise its not.  The default value returned is true - so all messages are sent.</p>
<p>After a message is invoked, the message <code>didRecieveMessage</code>is sent.</p>
<h2 id="object-creation">Object Creation</h2>
<p>In Gear, objects can be created one of two ways: ex nihilo (&quot;from nothing&quot;) or from an existing object.</p>
<p>The example below demonstrates an object being created ex nihilo:</p>
<pre><code>new()
</code></pre><p>This object does not have any slots or parents.  Its effectively an empty object.</p>
<p>The following creates a object ex nihilo as well, however, a few things happen afterwards:</p>
<ul>
<li><code>Object</code> is added to the new objects parent slot list.</li>
<li>The method <code>init</code> is called on the new object and the arguments given to <code>new</code> are passed to it.</li>
</ul>
<pre><code>Object.new()
</code></pre><p>The <code>init</code> method can be thought of as the objects <strong>constructor</strong>.  Constructors in Gear are not special or different from any other method.  In fact, in Gear, any method that returns a new object can be thought of as a constructor.</p>
<p>You can make your own constructor by creating a new object, adding the original object to the parent prototype chain, and then returning the new object.  Below is the implementation of the <code>new</code> method provided by Gear.</p>
<pre><code>proto Object
    fn new(args...)
        let self = new()
        self.appendProto(delegate: Object)
        self.init(...args) # Expand variable arguments.
        ret self
    end
end
</code></pre>
                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="../getting-started.html" class="navigation navigation-prev " aria-label="Previous page: Installation and Setup">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="types.md" class="navigation navigation-next " aria-label="Next page: 1.1 Types">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"1. Message Passing","level":"2.1","depth":1,"next":{"title":"1.1 Types","level":"2.1.1","depth":2,"path":"chapter-2/types.md","ref":"chapter-2/types.md","articles":[]},"previous":{"title":"Installation and Setup","level":"1.2","depth":1,"path":"getting-started.md","ref":"getting-started.md","articles":[]},"dir":"ltr"},"config":{"gitbook":"3.2.3","theme":"default","variables":{},"plugins":["scripts","mathjax","-highlight","gear@git+https://github.com/gear-lang/website.git#gitbook-plugin-gear"],"pluginsConfig":{"scripts":{"files":["../dist/site.bundle.js"]},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false},"mathjax":{"forceSVG":false,"version":"2.6-latest"},"gear":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"fontsettings":{"theme":"white","family":"sans","size":2}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"}},"file":{"path":"chapter-2/message_passing.md","mtime":"2018-10-22T10:45:09.000Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2018-10-26T08:16:16.260Z"},"basePath":"..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="../gitbook/gitbook-plugin-scripts/6c3bc1aa2e164da0653116d01a43d246-site.bundle.js"></script>
        
    
        
        <script src="https://cdn.mathjax.org/mathjax/2.6-latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-mathjax/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

